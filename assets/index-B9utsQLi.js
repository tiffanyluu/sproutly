(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=t(r);fetch(r.href,c)}})();let o={};function O(e){let n;try{n=window[e];const t="__storage_test__";return n.setItem(t,t),n.removeItem(t),!0}catch{return!1}}function N(){if(!O("localStorage"))return;const e=localStorage.getItem("projects");if(e)try{o=JSON.parse(e)}catch{o={}}else o={}}function f(){if(O("localStorage"))try{localStorage.setItem("projects",JSON.stringify(o))}catch{}}function A(e){return e in o?(alert("Project Title already exists! Please choose another name."),!1):(o[e]=[],f(),!0)}function w(e,n,t){let s=crypto.randomUUID(),r={projectTitle:e,taskTitle:n,date:t,starred:!1,isDone:!1,taskId:s};return o[e]||(o[e]=[]),o[e].push(r),f(),s}function M(e,n){let t=null,s=null;if(e)o[e]&&(t=o[e].findIndex(r=>r.taskId===n),t!==-1&&(o[e].splice(t,1),f()));else{for(const[r,c]of Object.entries(o))if(t=c.findIndex(a=>a.taskId===n),t!==-1){s=r;break}t!==-1&&s&&(o[s].splice(t,1),f())}}function B(e){return o[e]?(delete o[e],f(),!0):!1}function I(){return Object.keys(o).length===0?[]:Object.values(o).flat()}function D(){return new Date().toISOString().split("T")[0]}function F(){let e=D();return Object.keys(o).length===0?[]:Object.values(o).flat().filter(t=>t.date===e)}function H(){let e=D();return Object.keys(o).length===0?[]:Object.values(o).flat().filter(t=>t.date&&new Date(t.date)>new Date(e))}function $(){return Object.keys(o).length===0?[]:Object.values(o).flat().filter(n=>n.starred===!0)}function P(e){const n=document.querySelector(".projects-list"),t=document.createElement("div");t.className="project-item";const s=document.createElement("button");s.textContent=e,s.className="project-title",s.addEventListener("click",()=>{document.querySelector(".content-container").style.display="block",U(e)});const r=document.createElement("button");r.className="delete-sidebar",r.textContent="Delete",r.id=`delete-${e}`,r.addEventListener("click",()=>{B(e),n.removeChild(t);const a=document.querySelector(".task-container"),d=a.querySelector(".project-heading"),l=a.querySelector(".list-container"),u=document.querySelector(".add-task-button");u&&(u.style.display="none"),d&&(d.style.display="none"),l&&l.remove()});const c=document.createElement("label");c.setAttribute("for",`delete-${e}`),c.className="trashcan-sidebar",t.appendChild(s),t.appendChild(r),t.appendChild(c),n.append(t)}function U(e){const n=document.querySelector(".task-container"),t=document.querySelector(".add-task-button");t.style.display="block";let s=n.getAttribute("data-current-project");const r=n.querySelector(".project-heading"),c=n.querySelector(".list-container");if(s===null&&(n.setAttribute("data-current-project",""),s=""),r&&(r.style.display="block"),c&&(c.style.display="block"),e===s){let k=n.querySelector(".task-list");k&&(k.innerHTML="");const b=o[e]||[];C(b);return}r&&r.remove(),c&&c.remove();const a=document.createElement("div");a.className="project-heading",a.textContent=e,a.setAttribute("data-title",e),n.appendChild(a);const d=document.createElement("div");d.className="list-container";let l=document.createElement("ul");l.className="task-list",d.appendChild(l),n.appendChild(d),n.setAttribute("data-current-project",e);const u=o[e]||[];C(u)}function S(e,n,t){const s=document.querySelector(".task-container");let r;document.querySelector(".task-list")?r=document.querySelector(".task-list"):(r=document.createElement("ul"),r.className="task-list",s.appendChild(r));const c=document.createElement("div"),a=document.createElement("div");let d=s.getAttribute("data-current-project");a.className="bundle1",c.className="list-item";const l=document.createElement("input");l.type="checkbox",l.className="checkbox",l.id=`circle-${t}`;const u=Object.values(o).flat().find(i=>i.taskId===t);u&&u.isDone&&(l.checked=!0),l.addEventListener("click",()=>{if(l.checked){const i=Object.values(o).flat().find(m=>m.taskId===t);i&&(i.isDone=!0,f())}else{const i=Object.values(o).flat().find(m=>m.taskId===t);i&&(i.isDone=!1,f())}});const k=document.createElement("label");k.setAttribute("for",`circle-${t}`),k.className="circle";const b=document.createElement("div");b.className="text",b.textContent=e,a.appendChild(l),a.appendChild(k),a.appendChild(b);const p=document.createElement("div");p.className="bundle2";const y=document.createElement("input");y.type="checkbox",y.id=`star-${t}`,y.classList.add("star-checkbox"),u&&u.starred&&(y.checked=!0),y.addEventListener("click",()=>{if(y.checked){const i=Object.values(o).flat().find(m=>m.taskId===t);i&&(i.starred=!0,f())}else{const i=Object.values(o).flat().find(m=>m.taskId===t);i&&(i.starred=!1,f())}});const E=document.createElement("label");E.setAttribute("for",`star-${t}`),E.classList.add("star");const j=document.createElement("div");if(j.className="date",n){const i=new Date(n),m={month:"short",day:"numeric"};j.textContent=i.toLocaleDateString("en-US",m)}else j.textContent="No date";const h=document.createElement("button");h.className="delete-task",h.textContent="Delete",h.id=`delete-${t}`,h.addEventListener("click",()=>{M(d,t),r.removeChild(c)});const q=document.createElement("label");q.setAttribute("for",`delete-${t}`),q.className="trashcan",p.append(y),p.append(E),p.append(j),p.append(h),p.append(q),c.appendChild(a),c.appendChild(p),r.appendChild(c)}function x(e){const n=document.querySelector(".projects-list");n.innerHTML="";for(const t in e)P(t)}function C(e){const n=document.querySelector(".task-list");n&&(n.innerHTML=""),!(!e||e.length===0)&&e.forEach(t=>{S(t.taskTitle,t.date,t.taskId)})}function _(e){const n=document.querySelector(".task-list");n&&(n.innerHTML=""),!(!e||e.length===0)&&e.forEach(t=>{S(t.taskTitle,t.date,t.taskId)})}function J(e){const n=document.querySelector(".task-list");n&&(n.innerHTML=""),!(!e||e.length===0)&&e.forEach(t=>{S(t.taskTitle,t.date,t.taskId)})}function z(e){const n=document.querySelector(".task-list");n&&(n.innerHTML=""),!(!e||e.length===0)&&e.forEach(t=>{S(t.taskTitle,t.date,t.taskId)})}function K(){if(!O("localStorage"))return;x(o);const e=document.querySelector(".task-form");e&&(e.style.display="none")}function V(){const e=document.createElement("button");e.className="mobile-menu-toggle",e.setAttribute("aria-label","Toggle menu"),document.body.appendChild(e);const n=document.createElement("button");n.className="sidebar-close",n.textContent="Ã— Close Menu";const t=document.querySelector(".sidebar-container");t.insertBefore(n,t.firstChild),e.addEventListener("click",function(){t.classList.add("open")}),n.addEventListener("click",function(){t.classList.remove("open")}),document.addEventListener("click",function(s){!t.contains(s.target)&&!e.contains(s.target)&&t.classList.remove("open")})}document.addEventListener("DOMContentLoaded",V);const v=document.querySelector(".project-form");v.addEventListener("submit",e=>{e.preventDefault();const n=new FormData(v),t=Object.fromEntries(n);if(!t.title){alert("Project name cannot be blank!");return}A(t.title)&&(P(t.title),v.reset(),document.querySelector(".project-form").style.display="none")});const G=document.querySelector(".add-project");G.addEventListener("click",()=>{document.querySelector(".project-form").style.display="block"});const Q=document.querySelector(".cancel-project-form");Q.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),v.reset(),document.querySelector(".project-form").style.display="none"});const R=document.querySelector(".add-project-form");R.addEventListener("submit",e=>{e.preventDefault(),document.querySelector(".project-form").style.display="none"});const L=document.querySelector(".task-form");L.addEventListener("submit",e=>{e.preventDefault();const n=new FormData(L),t=Object.fromEntries(n);let s=document.querySelector(".project-heading").textContent;if(!t.taskTitle){alert("Project name cannot be blank!");return}let r=w(s,t.taskTitle,t.date);S(t.taskTitle,t.date,r),L.reset(),document.querySelector(".task-form").style.display="none"});const W=document.querySelector(".add-task-button");W.addEventListener("click",()=>{document.querySelector(".task-form").style.display="block"});const X=document.querySelector(".cancel-task-form");X.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),L.reset(),document.querySelector(".task-form").style.display="none"});const Y=document.querySelector(".add-task-form");Y.addEventListener("submit",e=>{e.preventDefault(),document.querySelector(".task-form").style.display="none"});N();const T=document.querySelector(".all-tasks-button"),Z=document.querySelector(".today-button"),ee=document.querySelector(".future-button"),te=document.querySelector(".starred-button");function g(e,n){const t=document.querySelector(".task-container"),s=t.querySelector(".project-heading"),r=t.querySelector(".list-container"),c=document.querySelector(".add-task-button");c&&(c.style.display="none"),s&&(s.style.display="none"),r&&r.remove();const a=document.createElement("div");a.className="list-container";const d=document.createElement("ul");d.className="task-list",a.appendChild(d),t.appendChild(a),t.setAttribute("data-current-project","");const l=n();e(l),document.querySelector(".content-container").style.display="block"}T.addEventListener("click",()=>{g(C,I)});Z.addEventListener("click",()=>{g(_,F)});ee.addEventListener("click",()=>{g(J,H)});te.addEventListener("click",()=>{g(z,$)});window.addEventListener("DOMContentLoaded",()=>{N(),x(o),T&&T.click()});K();
